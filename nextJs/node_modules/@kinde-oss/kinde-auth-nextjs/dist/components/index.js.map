{"version":3,"file":"index.js","sources":["../../node_modules/@kinde-oss/kinde-typescript-sdk/dist/sdk/oauth2-flows/types.js","../../node_modules/@kinde-oss/kinde-typescript-sdk/dist/sdk/utilities/types.js","../../node_modules/@kinde-oss/kinde-typescript-sdk/dist/sdk/environment.js","../../src/config/index.js","../../src/utils/version.js","../../src/components/RegisterLink.js","../../src/components/LoginLink.js","../../src/components/LogoutLink.js","../../src/components/CreateOrgLink.js"],"sourcesContent":["export var GrantType;\n(function (GrantType) {\n    GrantType[\"AUTHORIZATION_CODE\"] = \"AUTHORIZATION_CODE\";\n    GrantType[\"CLIENT_CREDENTIALS\"] = \"CLIENT_CREDENTIALS\";\n    GrantType[\"PKCE\"] = \"PKCE\";\n})(GrantType || (GrantType = {}));\n","export var FlagDataType;\n(function (FlagDataType) {\n    FlagDataType[\"s\"] = \"string\";\n    FlagDataType[\"b\"] = \"boolean\";\n    FlagDataType[\"i\"] = \"number\";\n})(FlagDataType || (FlagDataType = {}));\n","var JSEnvironment;\n(function (JSEnvironment) {\n    JSEnvironment[\"BROWSER\"] = \"BROWSER\";\n    JSEnvironment[\"NODEJS\"] = \"NODEJS\";\n})(JSEnvironment || (JSEnvironment = {}));\nconst currentEnvironment = typeof window === 'undefined' ? JSEnvironment.NODEJS : JSEnvironment.BROWSER;\n/**\n * Method returns if current environment is node.js\n * @returns {boolean}\n */\nexport const isNodeEnvironment = () => {\n    return currentEnvironment === JSEnvironment.NODEJS;\n};\n/**\n * Method returns if current environment is browser.\n * @returns {boolean}\n */\nexport const isBrowserEnvironment = () => {\n    return currentEnvironment === JSEnvironment.BROWSER;\n};\n","import {GrantType} from '@kinde-oss/kinde-typescript-sdk';\nimport {version} from '../utils/version';\n\n/**\n * @type {import('../../types').KindeState}\n */\nconst initialState = {\n  accessToken: null,\n  idToken: null,\n  isAuthenticated: false,\n  isLoading: true,\n  organization: null,\n  permissions: [],\n  user: null,\n  userOrganiaztions: [],\n  getAccessToken: () => null,\n  getBooleanFlag: () => null,\n  getClaim: () => null,\n  getFlag: () => null,\n  getIdToken: () => null,\n  getIntegerFlag: () => null,\n  getOrganization: () => null,\n  getPermission: () => null,\n  getPermissions: () => [],\n  getStringFlag: () => null,\n  getToken: () => null,\n  getUser: () => null,\n  getUserOrganizations: () => null\n};\n\nconst SESSION_PREFIX = 'pkce-verifier';\n\nconst KINDE_SITE_URL = process.env.KINDE_SITE_URL;\n\n// We need to use NEXT_PUBLIC for frontend vars\nconst KINDE_AUTH_API_PATH =\n  process.env.NEXT_PUBLIC_KINDE_AUTH_API_PATH ||\n  process.env.KINDE_AUTH_API_PATH ||\n  '/api/auth';\n\nconst KINDE_POST_LOGIN_REDIRECT_URL =\n  process.env.KINDE_POST_LOGIN_REDIRECT_URL ||\n  process.env.KINDE_POST_LOGIN_URL_REDIRECT_URL;\nconst KINDE_POST_LOGOUT_REDIRECT_URL =\n  process.env.KINDE_POST_LOGOUT_REDIRECT_URL;\n\nconst KINDE_ISSUER_URL = process.env.KINDE_ISSUER_URL;\nconst KINDE_CLIENT_ID = process.env.KINDE_CLIENT_ID;\nconst KINDE_CLIENT_SECRET = process.env.KINDE_CLIENT_SECRET;\nconst KINDE_AUDIENCE = process.env.KINDE_AUDIENCE;\n\nexport const config = {\n  apiPath: KINDE_AUTH_API_PATH,\n  initialState,\n  SESSION_PREFIX,\n  redirectURL: KINDE_SITE_URL,\n  postLoginRedirectURL: KINDE_POST_LOGIN_REDIRECT_URL,\n  issuerURL: KINDE_ISSUER_URL,\n  clientID: KINDE_CLIENT_ID,\n  clientSecret: KINDE_CLIENT_SECRET,\n  postLogoutRedirectURL: KINDE_POST_LOGOUT_REDIRECT_URL,\n  audience: KINDE_AUDIENCE,\n  responseType: 'code',\n  scope: 'openid profile email offline',\n  codeChallengeMethod: 'S256',\n  redirectRoutes: {\n    callback: `${KINDE_AUTH_API_PATH}/kinde_callback`\n  },\n  issuerRoutes: {\n    logout: '/logout',\n    login: '/oauth2/auth',\n    register: '/oauth2/auth',\n    token: '/oauth2/token',\n    profile: '/oauth2/v2/user_profile'\n  },\n  clientOptions: {\n    audience: KINDE_AUDIENCE || '',\n    authDomain: KINDE_ISSUER_URL || '',\n    clientId: KINDE_CLIENT_ID || '',\n    clientSecret: KINDE_CLIENT_SECRET || '',\n    logoutRedirectURL: KINDE_POST_LOGOUT_REDIRECT_URL || '',\n    redirectURL: `${KINDE_SITE_URL}/api/auth/kinde_callback`,\n    frameworkVersion: version,\n    framework: 'Next.js'\n  },\n  grantType: GrantType.AUTHORIZATION_CODE\n};\n","// Generated by genversion.\nexport const version = '2.0.4'\n","import React from 'react';\nimport {config} from '../config/index';\n\n/**\n * @typedef {Object} PropsType\n * @prop {React.ReactNode} children\n * @prop {string} [orgCode]\n * @prop {string} [postLoginRedirectURL]\n * @prop {Object.<string, string>} [authUrlParams]\n *\n * @typedef {PropsType & React.AnchorHTMLAttributes<HTMLAnchorElement>} Props\n */\n\n/**\n * @param {Props} props\n */\n\nexport function RegisterLink({\n  children,\n  orgCode,\n  postLoginRedirectURL,\n  authUrlParams,\n  ...props\n}) {\n  let params = new URLSearchParams();\n  let paramsObj = {};\n  if (orgCode != null) paramsObj.org_code = orgCode;\n  if (postLoginRedirectURL != null)\n    paramsObj.post_login_redirect_url = postLoginRedirectURL;\n\n  paramsObj = {...authUrlParams, ...paramsObj};\n\n  for (const key in paramsObj) params.append(key, paramsObj[key]);\n  return (\n    <a\n      href={`${config.apiPath}/register${\n        params ? `?${params.toString()}` : ''\n      }`}\n      {...props}\n    >\n      {children}\n    </a>\n  );\n}\n","import React from 'react';\nimport {config} from '../config/index';\n\n/**\n * @typedef {Object} PropsType\n * @prop {React.ReactNode} children\n * @prop {string} [orgCode]\n * @prop {string} [postLoginRedirectURL]\n * @prop {Object.<string, string>} [authUrlParams]\n *\n * @typedef {PropsType & React.AnchorHTMLAttributes<HTMLAnchorElement>} Props\n */\n\n/**\n * @param {Props} props\n */\nexport function LoginLink({\n  children,\n  postLoginRedirectURL,\n  orgCode,\n  authUrlParams,\n  ...props\n}) {\n  let params = new URLSearchParams();\n  let paramsObj = {};\n  if (orgCode != null) paramsObj.org_code = orgCode;\n  if (postLoginRedirectURL != null)\n    paramsObj.post_login_redirect_url = postLoginRedirectURL;\n\n  paramsObj = {...authUrlParams, ...paramsObj};\n\n  for (const key in paramsObj) params.append(key, paramsObj[key]);\n\n  return (\n    <a\n      href={`${config.apiPath}/login${params ? `?${params.toString()}` : ''}`}\n      {...props}\n    >\n      {children}\n    </a>\n  );\n}\n","import React from 'react';\n\nimport {config} from '../config/index';\n/**\n * @typedef {Object} PropsType\n * @prop {React.ReactNode} children\n *\n * @typedef {PropsType & React.AnchorHTMLAttributes<HTMLAnchorElement>} Props\n */\n\n/**\n * @param {Props} props\n */\nexport function LogoutLink({children, ...props}) {\n  return (\n    <a href={`${config.apiPath}/logout`} {...props}>\n      {children}\n    </a>\n  );\n}\n","import React from 'react';\n\nimport {config} from '../config/index';\n/**\n * @typedef {Object} PropsType\n * @prop {React.ReactNode} children\n * @prop {string} [orgName]\n *\n * @typedef {PropsType & React.AnchorHTMLAttributes<HTMLAnchorElement>} Props\n */\n\n/**\n * @param {Props} props\n */\nexport function CreateOrgLink({children, orgName, ...props}) {\n  return (\n    <a\n      href={`${config.apiPath}/create_org${\n        orgName ? `?org_name=${orgName}` : ''\n      }`}\n      {...props}\n    >\n      {children}\n    </a>\n  );\n}\n"],"names":["GrantType","FlagDataType","JSEnvironment","window","NODEJS","BROWSER","process","env","KINDE_SITE_URL","KINDE_AUTH_API_PATH","NEXT_PUBLIC_KINDE_AUTH_API_PATH","config","KINDE_POST_LOGIN_REDIRECT_URL","KINDE_POST_LOGIN_URL_REDIRECT_URL","KINDE_POST_LOGOUT_REDIRECT_URL","KINDE_ISSUER_URL","KINDE_CLIENT_ID","KINDE_CLIENT_SECRET","KINDE_AUDIENCE","AUTHORIZATION_CODE","RegisterLink","children","orgCode","postLoginRedirectURL","authUrlParams","props","params","URLSearchParams","paramsObj","org_code","post_login_redirect_url","key","append","React","createElement","_extends","href","toString","LoginLink","LogoutLink","CreateOrgLink","orgName"],"mappings":"yPAAO,IAAIA,ECAAC,ECAPC,GFCJ,SAAWF,GACPA,EAA8B,mBAAI,qBAClCA,EAA8B,mBAAI,qBAClCA,EAAgB,KAAI,MACvB,CAJD,CAIGA,IAAcA,EAAY,CAAA,ICJ7B,SAAWC,GACPA,EAAgB,EAAI,SACpBA,EAAgB,EAAI,UACpBA,EAAgB,EAAI,QACvB,CAJD,CAIGA,IAAiBA,EAAe,CAAA,ICJnC,SAAWC,GACPA,EAAuB,QAAI,UAC3BA,EAAsB,OAAI,QAC7B,CAHD,CAGGA,IAAkBA,EAAgB,CAAE,IACM,oBAAXC,OAAyBD,EAAcE,OAASF,EAAcG,QC2BzEC,QAAQC,IAAIC,eC/B5B,MDkCDC,EACJH,QAAQC,IAAIG,iCACZJ,QAAQC,IAAIE,qBACZ,YAaWE,GAVXL,QAAQC,IAAIK,+BACZN,QAAQC,IAAIM,kCAEZP,QAAQC,IAAIO,+BAEWR,QAAQC,IAAIQ,iBACbT,QAAQC,IAAIS,gBACRV,QAAQC,IAAIU,oBACjBX,QAAQC,IAAIW,eAGxBT,GAiCET,EAAUmB,mBEpEhB,SAASC,GAAaC,SAC3BA,EAAQC,QACRA,EAAOC,qBACPA,EAAoBC,cACpBA,KACGC,IAEH,IAAIC,EAAS,IAAIC,gBACbC,EAAY,CAAA,EACD,MAAXN,IAAiBM,EAAUC,SAAWP,GACd,MAAxBC,IACFK,EAAUE,wBAA0BP,GAEtCK,EAAY,IAAIJ,KAAkBI,GAElC,IAAK,MAAMG,KAAOH,EAAWF,EAAOM,OAAOD,EAAKH,EAAUG,IAC1D,OACEE,EAAAC,cAAA,IAAAC,EAAA,CACEC,KAAO,GAAEzB,aACPe,EAAU,IAAGA,EAAOW,aAAe,MAEjCZ,GAEHJ,EAGP,CC3BO,SAASiB,GAAUjB,SACxBA,EAAQE,qBACRA,EAAoBD,QACpBA,EAAOE,cACPA,KACGC,IAEH,IAAIC,EAAS,IAAIC,gBACbC,EAAY,CAAA,EACD,MAAXN,IAAiBM,EAAUC,SAAWP,GACd,MAAxBC,IACFK,EAAUE,wBAA0BP,GAEtCK,EAAY,IAAIJ,KAAkBI,GAElC,IAAK,MAAMG,KAAOH,EAAWF,EAAOM,OAAOD,EAAKH,EAAUG,IAE1D,OACEE,EAAAC,cAAA,IAAAC,EAAA,CACEC,KAAO,GAAEzB,UAAuBe,EAAU,IAAGA,EAAOW,aAAe,MAC/DZ,GAEHJ,EAGP,CC5BO,SAASkB,GAAWlB,SAACA,KAAaI,IACvC,OACEQ,EAAAC,cAAA,IAAAC,EAAA,CAAGC,KAAO,GAAEzB,YAA6Bc,GACtCJ,EAGP,CCLO,SAASmB,GAAcnB,SAACA,EAAQoB,QAAEA,KAAYhB,IACnD,OACEQ,EAAAC,cAAA,IAAAC,EAAA,CACEC,KAAO,GAAEzB,eACP8B,EAAW,aAAYA,IAAY,MAEjChB,GAEHJ,EAGP","x_google_ignoreList":[0,1,2]}