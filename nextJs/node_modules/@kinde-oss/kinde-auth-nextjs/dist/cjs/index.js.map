{"version":3,"file":"index.js","sources":["../../node_modules/@kinde-oss/kinde-typescript-sdk/dist/sdk/oauth2-flows/types.js","../../node_modules/@kinde-oss/kinde-typescript-sdk/dist/sdk/utilities/types.js","../../node_modules/@kinde-oss/kinde-typescript-sdk/dist/sdk/environment.js","../../src/utils/version.js","../../src/config/index.js","../../src/frontend/AuthProvider.jsx","../../node_modules/jwt-decode/build/jwt-decode.esm.js","../../src/components/CreateOrgLink.js","../../src/components/LoginLink.js","../../src/components/LogoutLink.js","../../src/components/RegisterLink.js","../../src/utils/pageRouter/isTokenValid.js","../../src/frontend/KindeBrowserClient.js"],"sourcesContent":["export var GrantType;\n(function (GrantType) {\n    GrantType[\"AUTHORIZATION_CODE\"] = \"AUTHORIZATION_CODE\";\n    GrantType[\"CLIENT_CREDENTIALS\"] = \"CLIENT_CREDENTIALS\";\n    GrantType[\"PKCE\"] = \"PKCE\";\n})(GrantType || (GrantType = {}));\n","export var FlagDataType;\n(function (FlagDataType) {\n    FlagDataType[\"s\"] = \"string\";\n    FlagDataType[\"b\"] = \"boolean\";\n    FlagDataType[\"i\"] = \"number\";\n})(FlagDataType || (FlagDataType = {}));\n","var JSEnvironment;\n(function (JSEnvironment) {\n    JSEnvironment[\"BROWSER\"] = \"BROWSER\";\n    JSEnvironment[\"NODEJS\"] = \"NODEJS\";\n})(JSEnvironment || (JSEnvironment = {}));\nconst currentEnvironment = typeof window === 'undefined' ? JSEnvironment.NODEJS : JSEnvironment.BROWSER;\n/**\n * Method returns if current environment is node.js\n * @returns {boolean}\n */\nexport const isNodeEnvironment = () => {\n    return currentEnvironment === JSEnvironment.NODEJS;\n};\n/**\n * Method returns if current environment is browser.\n * @returns {boolean}\n */\nexport const isBrowserEnvironment = () => {\n    return currentEnvironment === JSEnvironment.BROWSER;\n};\n","// Generated by genversion.\nexport const version = '2.0.4'\n","import {GrantType} from '@kinde-oss/kinde-typescript-sdk';\nimport {version} from '../utils/version';\n\n/**\n * @type {import('../../types').KindeState}\n */\nconst initialState = {\n  accessToken: null,\n  idToken: null,\n  isAuthenticated: false,\n  isLoading: true,\n  organization: null,\n  permissions: [],\n  user: null,\n  userOrganiaztions: [],\n  getAccessToken: () => null,\n  getBooleanFlag: () => null,\n  getClaim: () => null,\n  getFlag: () => null,\n  getIdToken: () => null,\n  getIntegerFlag: () => null,\n  getOrganization: () => null,\n  getPermission: () => null,\n  getPermissions: () => [],\n  getStringFlag: () => null,\n  getToken: () => null,\n  getUser: () => null,\n  getUserOrganizations: () => null\n};\n\nconst SESSION_PREFIX = 'pkce-verifier';\n\nconst KINDE_SITE_URL = process.env.KINDE_SITE_URL;\n\n// We need to use NEXT_PUBLIC for frontend vars\nconst KINDE_AUTH_API_PATH =\n  process.env.NEXT_PUBLIC_KINDE_AUTH_API_PATH ||\n  process.env.KINDE_AUTH_API_PATH ||\n  '/api/auth';\n\nconst KINDE_POST_LOGIN_REDIRECT_URL =\n  process.env.KINDE_POST_LOGIN_REDIRECT_URL ||\n  process.env.KINDE_POST_LOGIN_URL_REDIRECT_URL;\nconst KINDE_POST_LOGOUT_REDIRECT_URL =\n  process.env.KINDE_POST_LOGOUT_REDIRECT_URL;\n\nconst KINDE_ISSUER_URL = process.env.KINDE_ISSUER_URL;\nconst KINDE_CLIENT_ID = process.env.KINDE_CLIENT_ID;\nconst KINDE_CLIENT_SECRET = process.env.KINDE_CLIENT_SECRET;\nconst KINDE_AUDIENCE = process.env.KINDE_AUDIENCE;\n\nexport const config = {\n  apiPath: KINDE_AUTH_API_PATH,\n  initialState,\n  SESSION_PREFIX,\n  redirectURL: KINDE_SITE_URL,\n  postLoginRedirectURL: KINDE_POST_LOGIN_REDIRECT_URL,\n  issuerURL: KINDE_ISSUER_URL,\n  clientID: KINDE_CLIENT_ID,\n  clientSecret: KINDE_CLIENT_SECRET,\n  postLogoutRedirectURL: KINDE_POST_LOGOUT_REDIRECT_URL,\n  audience: KINDE_AUDIENCE,\n  responseType: 'code',\n  scope: 'openid profile email offline',\n  codeChallengeMethod: 'S256',\n  redirectRoutes: {\n    callback: `${KINDE_AUTH_API_PATH}/kinde_callback`\n  },\n  issuerRoutes: {\n    logout: '/logout',\n    login: '/oauth2/auth',\n    register: '/oauth2/auth',\n    token: '/oauth2/token',\n    profile: '/oauth2/v2/user_profile'\n  },\n  clientOptions: {\n    audience: KINDE_AUDIENCE || '',\n    authDomain: KINDE_ISSUER_URL || '',\n    clientId: KINDE_CLIENT_ID || '',\n    clientSecret: KINDE_CLIENT_SECRET || '',\n    logoutRedirectURL: KINDE_POST_LOGOUT_REDIRECT_URL || '',\n    redirectURL: `${KINDE_SITE_URL}/api/auth/kinde_callback`,\n    frameworkVersion: version,\n    framework: 'Next.js'\n  },\n  grantType: GrantType.AUTHORIZATION_CODE\n};\n","import React, {\n  createContext,\n  useCallback,\n  useContext,\n  useState,\n  useEffect\n} from 'react';\n\nimport {config} from '../config/index';\n\n/** @type {Record<import('../../types').KindeFlagTypeCode, import('../../types').KindeFlagTypeValue>} */\nexport const flagDataTypeMap = {\n  s: 'string',\n  i: 'integer',\n  b: 'boolean'\n};\n\nconst AuthContext = createContext({\n  ...config.initialState\n});\n\n/**\n *\n * @returns {import('../../types').KindeState}\n */\nexport const useKindeAuth = () => useContext(AuthContext);\n\n/**\n *\n * @param {string} url\n * @returns {Promise<import('../../types').KindeSetupResponse | undefined>}\n */\nconst tokenFetcher = async (url) => {\n  let response;\n  try {\n    response = await fetch(url);\n  } catch {\n    throw new Error('Failed to fetch token');\n  }\n\n  if (response.ok) {\n    const json = await response.json();\n    return json;\n  } else if (response.status === 401) {\n    throw new Error('Failed to fetch token');\n  }\n};\n\n/**\n *\n * @param {{children: React.ReactNode}} props\n */\nexport const KindeProvider = ({children}) => {\n  const [state, setState] = useState({\n    ...config.initialState\n  });\n\n  const setupUrl = `${config.apiPath}/setup`;\n\n  // try and get the user (by fetching /api/auth/setup) -> this needs to do the OAuth stuff\n  const checkSession = useCallback(async () => {\n    try {\n      const tokens = await tokenFetcher(setupUrl);\n\n      if (tokens == undefined) return;\n\n      const {\n        accessToken,\n        accessTokenEncoded,\n        featureFlags,\n        idToken,\n        organization,\n        permissions,\n        user,\n        userOrganizations\n      } = tokens;\n\n      const getAccessToken = () => accessToken;\n      const getToken = () => accessTokenEncoded;\n      const getIdToken = () => idToken;\n      const getPermissions = () => permissions;\n      const getOrganization = () => organization;\n      const getUser = () => user;\n      const getUserOrganizations = () => userOrganizations;\n\n      /**\n       *\n       * @param {string} claim\n       * @param {\"access_token\" | \"id_token\"} tokenKey\n       */\n      const getClaim = (claim, tokenKey = 'access_token') => {\n        const token =\n          tokenKey === 'access_token' ? tokens.accessToken : tokens.idToken;\n        // @ts-ignore\n        return token ? {name: claim, value: token[claim]} : null;\n      };\n\n      /**\n       *\n       * @param {string} code\n       * @param {number | string | boolean} defaultValue\n       * @param {import('../../types').KindeFlagTypeCode} flagType\n       * @returns {import('../../types').KindeFlag}\n       */\n      const getFlag = (code, defaultValue, flagType) => {\n        const flags = featureFlags;\n        const flag = flags && flags[code] ? flags[code] : {};\n\n        if (flag == {} && defaultValue == undefined) {\n          throw Error(\n            `Flag ${code} was not found, and no default value has been provided`\n          );\n        }\n\n        // @ts-ignore\n        if (flagType && flag.t && flagType !== flag.t) {\n          throw Error(\n            `Flag ${code} is of type ${\n              // @ts-ignore\n              flagDataTypeMap[flag.t]\n            } - requested type ${flagDataTypeMap[flagType]}`\n          );\n        }\n        return {\n          // @ts-ignore\n          code,\n          // @ts-ignore\n          type: flagDataTypeMap[flag.t || flagType],\n          // @ts-ignore\n          value: flag.v == null ? defaultValue : flag.v,\n          // @ts-ignore\n          is_default: flag.v == null,\n          defaultValue: defaultValue\n        };\n      };\n\n      /**\n       *\n       * @param {string} code\n       * @param {boolean} defaultValue\n       * @returns {boolean | undefined | null}\n       */\n      const getBooleanFlag = (code, defaultValue) => {\n        try {\n          const flag = getFlag(code, defaultValue, 'b');\n          return flag.value;\n        } catch (err) {\n          console.error(err);\n        }\n      };\n\n      /**\n       *\n       * @param {string} code\n       * @param {string} defaultValue\n       * @returns {string | undefined | null}\n       */\n      const getStringFlag = (code, defaultValue) => {\n        try {\n          const flag = getFlag(code, defaultValue, 's');\n          return flag.value;\n        } catch (err) {\n          console.error(err);\n        }\n      };\n\n      /**\n       *\n       * @param {string} code\n       * @param {number} defaultValue\n       * @returns {number | undefined | null}\n       */\n      const getIntegerFlag = (code, defaultValue) => {\n        try {\n          const flag = getFlag(code, defaultValue, 'i');\n          return flag.value;\n        } catch (err) {\n          console.error(err);\n        }\n      };\n\n      /**\n       *\n       * @param {string} key\n       * @returns {import('../../types').KindePermission}\n       */\n      const getPermission = (key) => {\n        return {\n          isGranted: permissions.permissions.some((p) => p === key),\n          orgCode: organization.orgCode\n        };\n      };\n\n      setState((previous) => ({\n        ...previous,\n        accessToken,\n        idToken,\n        isLoading: false,\n        organization,\n        permissions,\n        user,\n        userOrganizations,\n        getAccessToken,\n        getBooleanFlag,\n        getClaim,\n        getFlag,\n        getIdToken,\n        getIntegerFlag,\n        getOrganization,\n        getPermission,\n        getPermissions,\n        getStringFlag,\n        getToken,\n        getUser,\n        getUserOrganizations\n      }));\n    } catch (error) {\n      // @ts-ignore\n      setState((previous) => ({...previous, isLoading: false, error: error}));\n    }\n  }, [setupUrl]);\n\n  // if you get the user set loading false\n  useEffect(() => {\n    const checkLoading = async () => {\n      await checkSession();\n      setState((previous) => ({\n        ...previous,\n        isLoading: false\n      }));\n    };\n    if (!state.user) {\n      checkLoading();\n    }\n  }, [state.user]);\n\n  // provide this stuff to the rest of your app\n  const {\n    user,\n    accessToken,\n    idToken,\n    getAccessToken,\n    getToken,\n    getClaim,\n    getFlag,\n    getIdToken,\n    getBooleanFlag,\n    getStringFlag,\n    getIntegerFlag,\n    getOrganization,\n    getPermission,\n    getPermissions,\n    getUser,\n    getUserOrganizations,\n    permissions,\n    organization,\n    userOrganizations,\n    error,\n    isLoading\n  } = state;\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        error,\n        accessToken,\n        idToken,\n        getAccessToken,\n        getToken,\n        getClaim,\n        getFlag,\n        getIdToken,\n        getBooleanFlag,\n        getStringFlag,\n        getIntegerFlag,\n        getOrganization,\n        getPermission,\n        getPermissions,\n        getUser,\n        getUserOrganizations,\n        permissions,\n        organization,\n        userOrganizations,\n        isLoading,\n        isAuthenticated: !!user\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","function e(e){this.message=e}e.prototype=new Error,e.prototype.name=\"InvalidCharacterError\";var r=\"undefined\"!=typeof window&&window.atob&&window.atob.bind(window)||function(r){var t=String(r).replace(/=+$/,\"\");if(t.length%4==1)throw new e(\"'atob' failed: The string to be decoded is not correctly encoded.\");for(var n,o,a=0,i=0,c=\"\";o=t.charAt(i++);~o&&(n=a%4?64*n+o:o,a++%4)?c+=String.fromCharCode(255&n>>(-2*a&6)):0)o=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\".indexOf(o);return c};function t(e){var t=e.replace(/-/g,\"+\").replace(/_/g,\"/\");switch(t.length%4){case 0:break;case 2:t+=\"==\";break;case 3:t+=\"=\";break;default:throw\"Illegal base64url string!\"}try{return function(e){return decodeURIComponent(r(e).replace(/(.)/g,(function(e,r){var t=r.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t=\"0\"+t),\"%\"+t})))}(t)}catch(e){return r(t)}}function n(e){this.message=e}function o(e,r){if(\"string\"!=typeof e)throw new n(\"Invalid token specified\");var o=!0===(r=r||{}).header?0:1;try{return JSON.parse(t(e.split(\".\")[o]))}catch(e){throw new n(\"Invalid token specified: \"+e.message)}}n.prototype=new Error,n.prototype.name=\"InvalidTokenError\";export default o;export{n as InvalidTokenError};\n//# sourceMappingURL=jwt-decode.esm.js.map\n","import React from 'react';\n\nimport {config} from '../config/index';\n/**\n * @typedef {Object} PropsType\n * @prop {React.ReactNode} children\n * @prop {string} [orgName]\n *\n * @typedef {PropsType & React.AnchorHTMLAttributes<HTMLAnchorElement>} Props\n */\n\n/**\n * @param {Props} props\n */\nexport function CreateOrgLink({children, orgName, ...props}) {\n  return (\n    <a\n      href={`${config.apiPath}/create_org${\n        orgName ? `?org_name=${orgName}` : ''\n      }`}\n      {...props}\n    >\n      {children}\n    </a>\n  );\n}\n","import React from 'react';\nimport {config} from '../config/index';\n\n/**\n * @typedef {Object} PropsType\n * @prop {React.ReactNode} children\n * @prop {string} [orgCode]\n * @prop {string} [postLoginRedirectURL]\n * @prop {Object.<string, string>} [authUrlParams]\n *\n * @typedef {PropsType & React.AnchorHTMLAttributes<HTMLAnchorElement>} Props\n */\n\n/**\n * @param {Props} props\n */\nexport function LoginLink({\n  children,\n  postLoginRedirectURL,\n  orgCode,\n  authUrlParams,\n  ...props\n}) {\n  let params = new URLSearchParams();\n  let paramsObj = {};\n  if (orgCode != null) paramsObj.org_code = orgCode;\n  if (postLoginRedirectURL != null)\n    paramsObj.post_login_redirect_url = postLoginRedirectURL;\n\n  paramsObj = {...authUrlParams, ...paramsObj};\n\n  for (const key in paramsObj) params.append(key, paramsObj[key]);\n\n  return (\n    <a\n      href={`${config.apiPath}/login${params ? `?${params.toString()}` : ''}`}\n      {...props}\n    >\n      {children}\n    </a>\n  );\n}\n","import React from 'react';\n\nimport {config} from '../config/index';\n/**\n * @typedef {Object} PropsType\n * @prop {React.ReactNode} children\n *\n * @typedef {PropsType & React.AnchorHTMLAttributes<HTMLAnchorElement>} Props\n */\n\n/**\n * @param {Props} props\n */\nexport function LogoutLink({children, ...props}) {\n  return (\n    <a href={`${config.apiPath}/logout`} {...props}>\n      {children}\n    </a>\n  );\n}\n","import React from 'react';\nimport {config} from '../config/index';\n\n/**\n * @typedef {Object} PropsType\n * @prop {React.ReactNode} children\n * @prop {string} [orgCode]\n * @prop {string} [postLoginRedirectURL]\n * @prop {Object.<string, string>} [authUrlParams]\n *\n * @typedef {PropsType & React.AnchorHTMLAttributes<HTMLAnchorElement>} Props\n */\n\n/**\n * @param {Props} props\n */\n\nexport function RegisterLink({\n  children,\n  orgCode,\n  postLoginRedirectURL,\n  authUrlParams,\n  ...props\n}) {\n  let params = new URLSearchParams();\n  let paramsObj = {};\n  if (orgCode != null) paramsObj.org_code = orgCode;\n  if (postLoginRedirectURL != null)\n    paramsObj.post_login_redirect_url = postLoginRedirectURL;\n\n  paramsObj = {...authUrlParams, ...paramsObj};\n\n  for (const key in paramsObj) params.append(key, paramsObj[key]);\n  return (\n    <a\n      href={`${config.apiPath}/register${\n        params ? `?${params.toString()}` : ''\n      }`}\n      {...props}\n    >\n      {children}\n    </a>\n  );\n}\n","import jwt_decode from 'jwt-decode';\nimport {config} from '../../config/index';\n\nconst isTokenValid = (token) => {\n  const accessToken = (token && token.access_token) || token;\n  if (!accessToken) return false;\n\n  const accessTokenHeader = jwt_decode(accessToken, {header: true});\n  const accessTokenPayload = jwt_decode(accessToken);\n  let isAudienceValid = true;\n  if (config.audience)\n    isAudienceValid =\n      accessTokenPayload.aud &&\n      accessTokenPayload.aud.includes(config.audience);\n\n  if (\n    accessTokenPayload.iss == config.issuerURL &&\n    accessTokenHeader.alg == 'RS256' &&\n    accessTokenPayload.exp > Math.floor(Date.now() / 1000) &&\n    isAudienceValid\n  ) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nexport {isTokenValid};\n","import {useEffect, useState} from 'react';\nimport {flagDataTypeMap} from './AuthProvider.jsx';\n\n/**\n *\n * @returns {import('./AuthProvider').State}\n */\nexport const useKindeBrowserClient = () => {\n  const [state, setState] = useState({\n    accessToken: null,\n    accessTokenEncoded: null,\n    error: null,\n    featureFlags: [],\n    idToken: null,\n    isAuthenticated: false,\n    isLoading: true,\n    organization: null,\n    permissions: [],\n    user: null,\n    userOrganizations: []\n  });\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const res = await fetch('/api/auth/setup');\n      const kindeData = await res.json();\n      if (res.status == 200) {\n        setState({\n          ...kindeData\n        });\n      }\n      const error = kindeData.error;\n      setState((prev) => ({...prev, isLoading: false, error}));\n    };\n\n    fetchData();\n  }, []);\n\n  const getFlag = (code, defaultValue, flagType) => {\n    const flags = state.featureFlags || [];\n    const flag = flags && flags[code] ? flags[code] : {};\n\n    if (flag == {} && defaultValue == undefined) {\n      throw Error(\n        `Flag ${code} was not found, and no default value has been provided`\n      );\n    }\n\n    if (flagType && flag.t && flagType !== flag.t) {\n      throw Error(\n        `Flag ${code} is of type ${flagDataTypeMap[flag.t]} - requested type ${\n          flagDataTypeMap[flagType]\n        }`\n      );\n    }\n    return {\n      code,\n      type: flagDataTypeMap[flag.t || flagType],\n      value: flag.v == null ? defaultValue : flag.v,\n      is_default: flag.v == null\n    };\n  };\n\n  const getBooleanFlag = (code, defaultValue) => {\n    try {\n      const flag = getFlag(code, defaultValue, 'b');\n      return flag.value;\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const getStringFlag = (code, defaultValue) => {\n    try {\n      const flag = getFlag(code, defaultValue, 's');\n      return flag.value;\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const getIntegerFlag = (code, defaultValue) => {\n    try {\n      const flag = getFlag(code, defaultValue, 'i');\n      return flag.value;\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const getClaim = (claim, tokenKey = 'access_token') => {\n    const token =\n      tokenKey === 'access_token' ? state.accessToken : state.idToken;\n    return token ? {name: claim, value: token[claim]} : null;\n  };\n\n  const getAccessToken = () => {\n    return state.accessToken;\n  };\n  const getToken = () => {\n    return state.accessTokenEncoded;\n  };\n  const getIdToken = () => {\n    return state.idToken;\n  };\n  const getOrganization = () => {\n    return state.organization;\n  };\n  const getPermissions = () => {\n    return state.permissions;\n  };\n  const getUserOrganizations = () => {\n    return state.userOrganizations;\n  };\n\n  return {\n    ...state,\n    isAuthenticated: !!state.user,\n    getPermission: (key) => {\n      return {\n        isGranted: state.permissions.some((p) => p === key),\n        orgCode: state.organization\n      };\n    },\n    getBooleanFlag,\n    getIntegerFlag,\n    getFlag,\n    getStringFlag,\n    getClaim,\n    getAccessToken,\n    getToken,\n    getIdToken,\n    getOrganization,\n    getPermissions,\n    getUserOrganizations\n  };\n};\n"],"names":["GrantType","FlagDataType","JSEnvironment","window","NODEJS","BROWSER","KINDE_SITE_URL","process","env","KINDE_AUTH_API_PATH","NEXT_PUBLIC_KINDE_AUTH_API_PATH","KINDE_POST_LOGIN_REDIRECT_URL","KINDE_POST_LOGIN_URL_REDIRECT_URL","KINDE_POST_LOGOUT_REDIRECT_URL","KINDE_ISSUER_URL","KINDE_CLIENT_ID","KINDE_CLIENT_SECRET","KINDE_AUDIENCE","config","apiPath","initialState","accessToken","idToken","isAuthenticated","isLoading","organization","permissions","user","userOrganiaztions","getAccessToken","getBooleanFlag","getClaim","getFlag","getIdToken","getIntegerFlag","getOrganization","getPermission","getPermissions","getStringFlag","getToken","getUser","getUserOrganizations","SESSION_PREFIX","redirectURL","postLoginRedirectURL","issuerURL","clientID","clientSecret","postLogoutRedirectURL","audience","responseType","scope","codeChallengeMethod","redirectRoutes","callback","issuerRoutes","logout","login","register","token","profile","clientOptions","authDomain","clientId","logoutRedirectURL","frameworkVersion","framework","grantType","AUTHORIZATION_CODE","flagDataTypeMap","s","i","b","AuthContext","createContext","e","this","message","prototype","Error","name","r","atob","bind","t","String","replace","length","n","o","a","c","charAt","fromCharCode","indexOf","children","orgName","props","React","createElement","_extends","href","KindeProvider","state","setState","useState","setupUrl","checkSession","useCallback","async","tokens","response","fetch","url","ok","json","status","tokenFetcher","undefined","accessTokenEncoded","featureFlags","userOrganizations","claim","tokenKey","value","code","defaultValue","flagType","flags","flag","type","v","is_default","err","console","error","key","isGranted","some","p","orgCode","previous","useEffect","checkLoading","Provider","authUrlParams","params","URLSearchParams","paramsObj","org_code","post_login_redirect_url","append","toString","access_token","accessTokenHeader","jwt_decode","header","accessTokenPayload","isAudienceValid","aud","includes","iss","alg","exp","Math","floor","Date","now","useKindeAuth","useContext","useKindeBrowserClient","res","kindeData","prev","fetchData"],"mappings":"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","x_google_ignoreList":[0,1,2,6]}