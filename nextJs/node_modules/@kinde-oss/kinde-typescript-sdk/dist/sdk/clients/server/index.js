import createAuthCodeClient from './authorization-code.js';
import { isNodeEnvironment } from '../../environment.js';
import createCCClient from './client-credentials.js';
import { GrantType } from '../../oauth2-flows/index.js';
export const createKindeServerClient = (grantType, options) => {
    if (!isNodeEnvironment()) {
        throw new Error('this method must be invoked in a node.js environment');
    }
    switch (grantType) {
        case GrantType.AUTHORIZATION_CODE: {
            const clientOptions = options;
            return createAuthCodeClient(clientOptions, false);
        }
        case GrantType.PKCE: {
            const clientOptions = options;
            return createAuthCodeClient(clientOptions, true);
        }
        case GrantType.CLIENT_CREDENTIALS: {
            const clientOptions = options;
            return createCCClient(clientOptions);
        }
        default: {
            throw new Error('Unrecognized grant type provided');
        }
    }
};
